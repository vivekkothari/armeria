(window.webpackJsonp=window.webpackJsonp||[]).push([[84],{"1lec":function(e){e.exports=JSON.parse('{"/release-notes/1.13.1":"v1.13.1","/release-notes/1.13.0":"v1.13.0","/release-notes/1.12.0":"v1.12.0","/release-notes/1.11.0":"v1.11.0","/release-notes/1.10.0":"v1.10.0","/release-notes/1.9.2":"v1.9.2","/release-notes/1.9.1":"v1.9.1","/release-notes/1.9.0":"v1.9.0","/release-notes/1.8.0":"v1.8.0","/release-notes/1.7.2":"v1.7.2","/release-notes/1.7.1":"v1.7.1","/release-notes/1.7.0":"v1.7.0","/release-notes/1.6.0":"v1.6.0","/release-notes/1.5.0":"v1.5.0","/release-notes/1.4.0":"v1.4.0","/release-notes/1.3.0":"v1.3.0"}')},"2+3N":function(e){e.exports=JSON.parse('{"/news/20210202-newsletter-2":"Armeria Newsletter vol. 2","/news/20200703-newsletter-1":"Armeria Newsletter vol. 1","/news/20200514-newsletter-0":"Armeria Newsletter vol. 0"}')},JkCF:function(e,t,a){"use strict";a("tU7J");var n=a("wFql"),r=a("q1tI"),i=a.n(r),s=a("2+3N"),c=a("1lec"),l=a("+ejy"),o=a("+9zj"),b=n.a.Title;t.a=function(e){var t={},a={},n={root:{"Latest news items":"/news","Latest release notes":"/release-notes","Past news items":"/news/list","Past release notes":"/release-notes/list"},"Recent news items":t,"Recent releases":a};Object.entries(s).forEach((function(e){var a=e[0],n=e[1];t[n]=a})),Object.entries(c).forEach((function(e){var t=e[0],n=e[1];a[n]=t}));var r=Object(o.a)(e.location),p=e.version||r.substring(r.lastIndexOf("/")+1);return p.match(/^[0-9]/)||(p=void 0),i.a.createElement(l.a,Object.assign({},e,{candidateMdxNodes:[],index:n,prefix:"release-notes",pageTitle:p?p+" release notes":e.pageTitle,pageTitleSuffix:"Armeria release notes"}),p?i.a.createElement(b,{id:"release-notes",level:1},i.a.createElement("a",{href:"#release-notes","aria-label":"release notes permalink",className:"anchor before"},i.a.createElement("svg",{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},i.a.createElement("path",{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),p," release notes"):"",e.children)}},LhpH:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return c})),a.d(t,"default",(function(){return p}));var n,r=a("zLVn"),i=(a("q1tI"),a("7ljp")),s=a("JkCF"),c={},l=(n="ThankYou",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),Object(i.b)("div",e)}),o={_frontmatter:c},b=s.a;function p(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(i.b)(b,Object.assign({},o,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",{className:"date"},"8th December 2019"),Object(i.b)("h2",{id:"-new-features",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#-new-features","aria-label":" new features permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🌟 New features"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"We now have a new immutable cookie API with ",Object(i.b)("inlineCode",{parentName:"p"},"SameSite")," attribute support, which replaces Netty's cookie API. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/1567"},"#1567")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2286"},"#2286")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},'Cookie c1 = Cookie.of("foo", "bar")\nCookie c2 = Cookie.builder("alice", "bob")\n                  .domain("foo.com")\n                  .path("/bar")\n                  .maxAge(3600)\n                  .sameSite("Strict")\n                  .build();\n// Encoding\nResponseHeaders resHeaders =\n    ResponseHeaders.builder(HttpStatus.OK)\n                   .add(HttpHeaderNames.SET_COOKIE,\n                        Cookie.toSetCookieHeaders(c1, c2))\n                   .build();\n// Decoding\nCookies cookies =\n    Cookie.fromSetCookieHeaders(\n        resHeaders.getAll(HttpHeaderNames.SET_COOKIE));\n'))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now replace the request headers of ",Object(i.b)("inlineCode",{parentName:"p"},"HttpRequest")," more conveniently using ",Object(i.b)("inlineCode",{parentName:"p"},"HttpRequest.withHeaders(RequestHeaders)"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2278"},"#2278")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2283"},"#2283")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},'HttpRequest req = HttpRequest.of(HttpMethod.POST, "/post",\n                                 MediaType.PLAIN_TEXT_UTF_8,\n                                 "Hello!");\nRequestHeaders newHeaders = RequestHeaders.of(HttpMethod.PUT, "/put",\n                                              MediaType.PLAIN_TEXT_UTF_8);\nHttpRequest newReq = req.withHeaders(newHeaders);\n'))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"ServiceRequestContext.blockingTaskExecutor()")," is now a ",Object(i.b)("inlineCode",{parentName:"p"},"ScheduledExecutorService")," instead of ",Object(i.b)("inlineCode",{parentName:"p"},"ExecutorService"),", which means you can schedule delayed or periodic tasks. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2269"},"#2269")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},'// A service that sends `PING!` every second.\nHttpService service = (ctx, req) -> {\n    HttpResponse res = HttpResponse.streaming();\n    res.write(ResponseHeaders.of(200));\n    AtomicReference<ScheduledFuture<?>> futureHolder = new AtomicReference<>();\n    futureHolder.set(ctx.blockingTaskExecutor().scheduleWithFixedDelay(() -> {\n        boolean success = res.tryWrite(HttpData.ofUtf8("PING!\\r\\n"));\n        if (!success) {\n            if (futureHolder.get() != null) {\n                futureHolder.get().cancel(false);\n            }\n        }\n    }, 1, TimeUnit.SECONDS));\n    return res;\n};\n'))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now add converters and exception handlers to annotated services more conveniently using the new fluent builder methods. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2242"},"#2242")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},"Server server =\n    Server.builder()\n          .annotatedService().requestConverters(converterA, converterB)\n                             .responseConverters(converterC, converterD)\n                             .exceptionHandlers(handlerA, handlerB)\n                             .build(myAnnotatedService)\n          .build();\n"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now configure how Armeria decides ",Object(i.b)("inlineCode",{parentName:"p"},"ServiceRequestContext.clientAddress()")," via ",Object(i.b)("inlineCode",{parentName:"p"},"ServerBuilder.clientAddressMapper()"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/1631"},"#1631")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2294"},"#2294")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},"Server.builder()\n      .clientAddressMapper(proxiedAddrs -> {\n          InetSocketAddress srcAddr = proxiedAddrs.sourceAddress();\n          List<InetSocketAddress> destAddrs = proxiedAddrs.destinationAddresses();\n          if (destAddrs.isEmpty()) {\n              // No proxy servers involved.\n              return srcAddr;\n          } else {\n              // When there are more than one proxy server involved,\n              // trust only the address given by the last proxy server.\n              return destAddrs.get(destAddrs.size() - 1);\n          }\n      });\n"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now choose a different SLF4J ",Object(i.b)("inlineCode",{parentName:"p"},"Logger")," than the default one when using ",Object(i.b)("inlineCode",{parentName:"p"},"LoggingClient")," or ",Object(i.b)("inlineCode",{parentName:"p"},"LoggingService"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2220"},"#2220")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2237"},"#2237")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},'Logger myLogger = LoggerFactory.getLogger(MyService.class);\nServer server =\n    Server.builder()\n          .service("/",\n                   myService.decorate(LoggingService.builder()\n                                                    .logger(myLogger)\n                                                    .newDecorator()))\n          .build();\n'))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"BraveClient")," now adds connection timing information to a span. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2271"},"#2271")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2273"},"#2273")),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"connection-acquire.start")," and ",Object(i.b)("inlineCode",{parentName:"li"},"connection-acquire.end")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"dns-resolve.start")," and ",Object(i.b)("inlineCode",{parentName:"li"},"dns-resolve.end")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"socket-connect.start")," and ",Object(i.b)("inlineCode",{parentName:"li"},"socket-connect.end")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"connection-reuse.start")," and ",Object(i.b)("inlineCode",{parentName:"li"},"connection-reuse.end")))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"withDeadlineAfter")," is now supported for gRPC client stubs. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2284"},"#2284"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"GrpcService")," now allows controlling whether to respect the ",Object(i.b)("inlineCode",{parentName:"p"},'"grpc-timeout"')," header sent by a gRPC client. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2284"},"#2284")),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Consider disabling this feature via ",Object(i.b)("inlineCode",{parentName:"li"},"GrpcServiceBuilder.useClientTimeoutHeader()")," in an insecure environment."))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"THttpService")," and ",Object(i.b)("inlineCode",{parentName:"p"},"ThriftCallService")," now supports adding more than one Thrift service at the same endpoint. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2164"},"#2164")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2285"},"#2285")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},'class MyFooService implements FooService.Iface ... {\n    public void foo() { ... }\n}\n\nclass MyBarService implements BarService.Iface ... {\n    public void bar() { ... }\n}\n\n// "foo" call goes to MyFooService and\n// "bar" call goes to MyBarService.\nServer server =\n    Server.builder()\n          .service("/thrift",\n                   THttpService.builder()\n                               .addService(new MyFooService())\n                               .addService(new MyBarService())\n                               .build())\n          .build();\n'))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("inlineCode",{parentName:"p"},"armeria-spring-boot-actuator-autoconfigure")," now supports the official CORS settings. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2063"},"#2063")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-yaml"},"# application.yml\nmanagement.endpoints.web.cors.allowed-origins: https://example.com\nmanagement.endpoints.web.cors.allowed-methods: GET,POST\n")))),Object(i.b)("h2",{id:"-improvements",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#-improvements","aria-label":" improvements permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"📈 Improvements"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Improved routing performance. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2293"},"#2293")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2295"},"#2295")),Object(i.b)("li",{parentName:"ul"},"The core JAR file is now smaller, by removing unnecessary resources such as web fonts and favicons. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2299"},"#2299")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2300"},"#2300")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"HttpRequest.of(RequestHeaders, Publisher)")," now handles the case where the ",Object(i.b)("inlineCode",{parentName:"li"},"Publisher")," is actually an ",Object(i.b)("inlineCode",{parentName:"li"},"HttpRequest"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2278"},"#2278")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2283"},"#2283"))),Object(i.b)("h2",{id:"-security-fixes",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#-security-fixes","aria-label":" security fixes permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🔒 Security fixes"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"(Moderate) ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/security/advisories/GHSA-35fr-h7jr-hh86"},"CWE-113: Improper Neutralization of CRLF Sequences in HTTP Headers ('HTTP Response Splitting')")),Object(i.b)("li",{parentName:"ul"},"(Low) ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/security/advisories/GHSA-24r8-fm9r-cpj2"},"Multiple timing attack vulnerabilities leading to the recovery of secrets based on the use of non-constant time compare function"))),Object(i.b)("h2",{id:"️-bug-fixes",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#%EF%B8%8F-bug-fixes","aria-label":"️ bug fixes permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🛠️ Bug fixes"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"The event loop threads are properly cleaned up when ",Object(i.b)("inlineCode",{parentName:"li"},"Server")," failed to start. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2288"},"#2288")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"Server")," now sends a redirect response correctly for the requests without a trailing slash (",Object(i.b)("inlineCode",{parentName:"li"},"/"),") even when you bound a fallback service at ",Object(i.b)("inlineCode",{parentName:"li"},"prefix:/"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2116"},"#2116")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2292"},"#2292")),Object(i.b)("li",{parentName:"ul"},"Fixed a bug where routing cache did not work as expected, leading suboptimal routing performance. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2293"},"#2293")),Object(i.b)("li",{parentName:"ul"},"Annotated services now accept only the first ",Object(i.b)("inlineCode",{parentName:"li"},'"Cookie"')," header when injecting ",Object(i.b)("inlineCode",{parentName:"li"},"Cookies"),", because multiple ",Object(i.b)("inlineCode",{parentName:"li"},'"Cookie"')," headers must be prohibited according to RFC 6265. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2286"},"#2286")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"GrpcService")," now respects gRPC stub deadline. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2008"},"#2008")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2284"},"#2284"))),Object(i.b)("h2",{id:"️-deprecations",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#%EF%B8%8F-deprecations","aria-label":"️ deprecations permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🏚️ Deprecations"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Deprecated ",Object(i.b)("inlineCode",{parentName:"li"},"HttpRequest.of(HttpRequest, RequestHeaders)")," in favor of\n",Object(i.b)("inlineCode",{parentName:"li"},"HttpRequest.withHeaders()")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2283"},"#2283")),Object(i.b)("li",{parentName:"ul"},"Deprecated ",Object(i.b)("inlineCode",{parentName:"li"},"HttpRequest.of(AggregatedHttpRequest)")," and\n",Object(i.b)("inlineCode",{parentName:"li"},"HttpResponse.of(AggregatedHttpResponse)")," in favor of\n",Object(i.b)("inlineCode",{parentName:"li"},"AggregatedHttpRequest.toHttpRequest()")," and\n",Object(i.b)("inlineCode",{parentName:"li"},"AggregatedHttpResponse.toHttpResponse()"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2283"},"#2283"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"These methods were removed from ",Object(i.b)("inlineCode",{parentName:"li"},"AggregatedHttpMessage")," some time ago due to ambiguity, but now we are reviving them because we have separate types for requests and responses."))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"Cookies.copyOf()")," has been deprecated in favor of ",Object(i.b)("inlineCode",{parentName:"li"},"Cookies.of()"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2286"},"#2286")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"AnnotatedServiceBuildingBuilder.requestConverter()"),", ",Object(i.b)("inlineCode",{parentName:"li"},"responseConverter()")," and ",Object(i.b)("inlineCode",{parentName:"li"},"exceptionHandler()")," have been deprecated in favor of ",Object(i.b)("inlineCode",{parentName:"li"},"requestConverters()"),", ",Object(i.b)("inlineCode",{parentName:"li"},"responseConverters()")," and ",Object(i.b)("inlineCode",{parentName:"li"},"exceptionHandlers()")," respectively. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2242"},"#2242")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"Sampler.rateLimited()")," has been deprecated in favor of ",Object(i.b)("inlineCode",{parentName:"li"},"rateLimiting()"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2122"},"#2122")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2289"},"#2289")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"THttpService.of()")," and ",Object(i.b)("inlineCode",{parentName:"li"},"ofFormats()")," factory methods that require a ",Object(i.b)("inlineCode",{parentName:"li"},"Map<String, ?>")," have been deprecated. Use ",Object(i.b)("inlineCode",{parentName:"li"},"THttpService.builder()")," and call ",Object(i.b)("inlineCode",{parentName:"li"},"THttpService.addService(String, Object)")," multiple times instead. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2285"},"#2285"))),Object(i.b)("h2",{id:"️-breaking-changes",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#%EF%B8%8F-breaking-changes","aria-label":"️ breaking changes permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"☢️ Breaking changes"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"ServerBuilder.blockingTaskExecutor()")," now requires a ",Object(i.b)("inlineCode",{parentName:"li"},"ScheduledExecutorService")," instead of an ",Object(i.b)("inlineCode",{parentName:"li"},"ExecutorService"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2269"},"#2269")),Object(i.b)("li",{parentName:"ul"},"The behavior of automatic redirection for the case of missing trailing slash (",Object(i.b)("inlineCode",{parentName:"li"},"/"),") has been changed (in a good way). ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2116"},"#2116")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2292"},"#2292"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"For example, previously, when a client sent a request to ",Object(i.b)("inlineCode",{parentName:"li"},"/docs"),", the following server routed the request to ",Object(i.b)("inlineCode",{parentName:"li"},"TomcatService"),":",Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},'Server server =\n    Server.builder()\n          .serviceUnder("/docs", new DocService())\n          .serviceUnder("/", TomcatSerivce.forClassPath(...))\n          .build();\n'))),Object(i.b)("li",{parentName:"ul"},"However, from this release, the request will not be routed to ",Object(i.b)("inlineCode",{parentName:"li"},"TomcatService")," but the server will issue a redirect response to ",Object(i.b)("inlineCode",{parentName:"li"},"/docs/"),"."))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"ProxiedAddresses")," class has been redesigned to handle the case of more than one intermediary proxy server. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/1631"},"#1631")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2294"},"#2294")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"Cookies")," now uses Armeria's own ",Object(i.b)("inlineCode",{parentName:"li"},"Cookie"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2286"},"#2286")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"Cookies")," now may contain the cookies with the same name. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2286"},"#2286"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"Note that RFC does not prohibit duplicate names at all, so this is correct behavior."))),Object(i.b)("li",{parentName:"ul"},"Annotated services now accept only the first ",Object(i.b)("inlineCode",{parentName:"li"},'"Cookie"')," header when decoding cookies. Sending multiple ",Object(i.b)("inlineCode",{parentName:"li"},'"Cookie"')," headers was a violation of RFC 6265 anyway. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2286"},"#2286")),Object(i.b)("li",{parentName:"ul"},"The ",Object(i.b)("inlineCode",{parentName:"li"},"ThriftCallService")," factory method with signature ",Object(i.b)("inlineCode",{parentName:"li"},"of(Map<String, ? extends Iterable<?>>)")," has been changed to ",Object(i.b)("inlineCode",{parentName:"li"},"of(Map<String, ? extends Iterable<?>>)")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/2285"},"#2285"))),Object(i.b)("h2",{id:"-dependencies",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#-dependencies","aria-label":" dependencies permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"⛓ Dependencies"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Brave 1.3.1"),Object(i.b)("li",{parentName:"ul"},"Jetty 9.4.22 -> 9.4.24"),Object(i.b)("li",{parentName:"ul"},"Micrometer 1.3.1 -> 1.3.2"),Object(i.b)("li",{parentName:"ul"},"Netty TCNative BoringSSL 2.0.27 -> 2.0.26"),Object(i.b)("li",{parentName:"ul"},"Project Reactor 3.3.0 -> 3.3.1"),Object(i.b)("li",{parentName:"ul"},"RxJava2 2.2.14 -> 2.2.15"),Object(i.b)("li",{parentName:"ul"},"Spring Boot 2.1.10 -> 2.2.1"),Object(i.b)("li",{parentName:"ul"},"Tomcat 9.0.27 -> 9.0.29, 8.5.47 -> 8.5.49")),Object(i.b)("h2",{id:"-thank-you",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#-thank-you","aria-label":" thank you permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🙇 Thank you"),Object(i.b)(l,{usernames:["anuraaga","chrsow","heowc","hyangtack","ikhoon","imasahiro","JLLeitschuh","JunoJunho","magnuschatt","minwoox","monorisk","renaudb","sivaalli","stypr","tobias-","trustin"],mdxType:"ThankYou"}))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-release-notes-0-97-0-mdx-c08c6a8798c04c5541e8.js.map